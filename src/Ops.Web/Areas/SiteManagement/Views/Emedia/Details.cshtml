@model Ocuda.Ops.Controllers.Areas.SiteManagement.ViewModels.Emedia.DetailsViewModel

@section styles {
    <link rel="stylesheet" href="~/css/md.min.css" asp-append-version="true" />
}

<div class="row mb-2">
    <div class="col-sm-6">
        <h1>
            Emedia
            <small class="text-muted">@Model.Emedia.Name</small>
        </h1>
    </div>
    <div class="col-sm-6">
        <a asp-action="@(nameof(EmediaController.GroupDetails))"
           asp-route-id="@Model.Emedia.GroupId"
           class="btn btn-outline-dark mt-2 mb-1 ml-2 float-right">Back</a>
    </div>
</div>

<div class="row pt-3">
    <div class="col-12">
        <input asp-for="Emedia.Group.Name"
               formgroup
               hide-required="true"
               label-name="Group"
               readonly />
        <input asp-for="Emedia.RedirectUrl"
               formgroup
               hide-required="true"
               readonly />
        <select asp-for="SelectedLanguage" asp-items="Model.LanguageList" formgroup></select>
    </div>
</div>

<div class="row pb-3">
    <div class="col-12 col-md-9 offset-md-3">
        <hr />
    </div>
</div>

<form asp-action="@nameof(EmediaController.Details)" method="post" role="form">
    <input asp-for="EmediaText.EmediaId" value="@Model.Emedia.Id" type="hidden" />
    <input asp-for="LanguageId" type="hidden" />

    <textarea asp-for="EmediaText.Description" formgroup></textarea>

    <div class="form-group row">
        <div class="col-md-3 text-md-right">
            <label asp-for="EmediaText.Details" class="col-form-label"></label>
        </div>
        <div class="form-group-inner col-md-9">
            <textarea asp-for="EmediaText.Details" markdown-editor></textarea>
            <span asp-validation-for="EmediaText.Details"
                  class="validation-message text-danger"></span>
        </div>
    </div>

    <div class="row">
        <div class="offset-md-3 col-md-9">
            <button type="submit"
                    class="btn btn-outline-success btn-lg"
                    buttonspinner>
                <span class="far fa-save"></span>
                Save
            </button>
        </div>
    </div>
</form>

@section scripts {
    <script src="~/js/md.min.js" asp-append-version="true"></script>

    <script>
        var editor = new Markdown.Editor($("#EmediaText_Details"), { allowUploads: true });
        editor.run();
    </script>
}